<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="team3.promans.interfaces.ProjectInterface">

	<update id="updateStep" parameterType="team3.promans.beans.ProjectStepBean">
	
	</update>
	
	<insert id="reqComplete" parameterType="team3.promans.beans.ScheduleDetailBean">
		INSERT INTO SCFT VALUES(#{cpcode},#{prcode},#{pscode},#{sccode},(SELECT SM_USERID FROM SM WHERE SM_CPCODE=#{cpcode} AND SM_PRCODE=#{prcode} AND SM_PSCODE=#{pscode} AND SM_SCCODE=#{sccode} AND SM_UTYPE=#{utype}),#{sddstate},#{sdcontent},SYSDATE)
	</insert>
	
	<update id="updateComplete" parameterType="team3.promans.beans.ScheduleDetailBean">
		UPDATE SC SET SC_STATE = #{sddstate} WHERE SC_CPCODE = #{cpcode} AND SC_PRCODE = #{prcode} AND SC_PSCODE = #{pscode} AND SC_CODE = #{sccode}
	</update>
	
	<insert id="insStep" parameterType="team3.promans.beans.ProjectStepBean">
		insert into ps values(#{cpcode},#{prcode},#{pscode},#{psname},'I',#{userid},'L')
	</insert>

</mapper>